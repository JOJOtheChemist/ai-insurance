"use strict";
/**
 * Delete timetable tool prompts and descriptions
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.PROMPT = exports.DESCRIPTION = void 0;
exports.DESCRIPTION = '批量删除时间表记录。支持通过日期和时间段定位要删除的记录，自动转换为ID列表进行删除。⚠️ 删除操作不可逆，建议先用 get_schedule 查看要删除的记录。';
exports.PROMPT = `【工具功能】批量删除时间表记录
此工具能够根据日期和时间段批量删除时间表记录。通过自然语言描述的时间范围，自动查找并删除对应的记录。

参数说明:
- schedule (必填): 删除时间表对象，日期作为key，时间槽数组作为value
  - 日期格式: YYYY-MM-DD（如 "2025-11-04"）
  - 时间槽数组: 包含多个时间槽对象

时间槽对象字段:
- time_slot (必填): 时间或时间段
  * 单点格式: "09:00" - 表示删除单个时间点的记录
  * 时间段格式: "09:00-17:00" - 表示删除连续时间段的所有记录

工作流程:
1. 接收日期和时间段参数
2. 将时间段转换为time_block范围（0-47，每30分钟一个块）
3. 查询指定日期的所有时间段记录
4. 过滤出在目标时间范围内的记录
5. 提取这些记录的ID
6. 调用批量删除API删除这些记录

返回结果:
- ok: 操作是否成功
- data (成功时):
  - deleted_count: 实际删除的数量
  - requested_count: 请求删除的数量
  - deleted_ids: 已删除的ID列表
  - message: 操作结果消息
- error (失败时): 错误信息

使用示例:

1. 删除单个时间点的记录:
delete_timetable({
  schedule: {
    "2025-11-04": [
      {
        "time_slot": "09:00"
      }
    ]
  }
})

2. 删除时间段的所有记录:
delete_timetable({
  schedule: {
    "2025-11-04": [
      {
        "time_slot": "09:00-12:00"
      }
    ]
  }
})

3. 删除多个不连续时间段:
delete_timetable({
  schedule: {
    "2025-11-04": [
      {
        "time_slot": "09:00-12:00"
      },
      {
        "time_slot": "14:00-17:00"
      },
      {
        "time_slot": "19:00"
      }
    ]
  }
})

4. 删除整天的记录:
delete_timetable({
  schedule: {
    "2025-11-04": [
      {
        "time_slot": "00:00-23:59"
      }
    ]
  }
})

5. 删除跨天记录（需要分成两个日期）:
delete_timetable({
  schedule: {
    "2025-11-04": [
      {
        "time_slot": "22:00-23:59"
      }
    ],
    "2025-11-05": [
      {
        "time_slot": "00:00-06:00"
      }
    ]
  }
})

6. 删除多天的相同时间段:
delete_timetable({
  schedule: {
    "2025-11-04": [
      {
        "time_slot": "09:00-12:00"
      }
    ],
    "2025-11-05": [
      {
        "time_slot": "09:00-12:00"
      }
    ],
    "2025-11-06": [
      {
        "time_slot": "09:00-12:00"
      }
    ]
  }
})

推荐使用流程:
1. 用户说要删除某些时间的记录
2. 先调用 get_schedule 查看该时间段有哪些记录
3. 确认后，使用此工具删除

注意事项:
1. ⚠️ 删除操作不可逆，请谨慎使用
2. 建议删除前先用 get_schedule 查看要删除的记录
3. 时间格式必须正确: HH:MM 或 HH:MM-HH:MM
4. 日期格式必须为: YYYY-MM-DD
5. 时间段会自动拆分：09:00-12:00 会删除该时间段内所有30分钟的时间块
6. 跨天的记录需要拆分为两个日期
7. 只能删除属于当前用户的记录
8. 如果某些时间段没有记录，会跳过
9. 返回的 deleted_count 表示实际删除的数量，可能小于请求的数量

错误处理:
- 如果日期格式错误，会提示正确格式
- 如果时间格式错误，会提示正确格式
- 如果没有找到匹配的记录，会返回成功但deleted_count为0
- 如果API调用失败，会返回详细错误信息

应用场景:
- 删除错误录入的时间记录
- 清空某天的所有记录重新录入
- 删除某个时间段的记录
- 批量删除多天的特定时间段
- 清理测试数据

核心优势：通过自然语言描述的时间范围自动定位并删除记录，无需手动查找ID`;
