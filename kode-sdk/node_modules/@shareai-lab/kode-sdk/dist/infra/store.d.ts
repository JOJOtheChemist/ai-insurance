import { Message, Timeline, Snapshot, AgentInfo } from '../core/types';
export interface Store {
    saveMessages(sessionId: string, messages: Message[]): Promise<void>;
    loadMessages(sessionId: string): Promise<Message[]>;
    appendEvent(sessionId: string, timeline: Timeline): Promise<void>;
    readEvents(sessionId: string, since?: number): AsyncIterable<Timeline>;
    saveSnapshot(sessionId: string, snapshot: Snapshot): Promise<void>;
    loadSnapshot(sessionId: string, snapshotId: string): Promise<Snapshot | undefined>;
    listSnapshots(sessionId: string): Promise<Snapshot[]>;
    saveInfo(sessionId: string, info: AgentInfo): Promise<void>;
    loadInfo(sessionId: string): Promise<AgentInfo | undefined>;
    exists(sessionId: string): Promise<boolean>;
    delete(sessionId: string): Promise<void>;
    list(prefix?: string): Promise<string[]>;
}
export declare class JSONStore implements Store {
    private baseDir;
    constructor(baseDir: string);
    private getPath;
    saveMessages(sessionId: string, messages: Message[]): Promise<void>;
    loadMessages(sessionId: string): Promise<Message[]>;
    appendEvent(sessionId: string, timeline: Timeline): Promise<void>;
    readEvents(sessionId: string, since?: number): AsyncIterable<Timeline>;
    saveSnapshot(sessionId: string, snapshot: Snapshot): Promise<void>;
    loadSnapshot(sessionId: string, snapshotId: string): Promise<Snapshot | undefined>;
    listSnapshots(sessionId: string): Promise<Snapshot[]>;
    saveInfo(sessionId: string, info: AgentInfo): Promise<void>;
    loadInfo(sessionId: string): Promise<AgentInfo | undefined>;
    exists(sessionId: string): Promise<boolean>;
    delete(sessionId: string): Promise<void>;
    list(prefix?: string): Promise<string[]>;
}
