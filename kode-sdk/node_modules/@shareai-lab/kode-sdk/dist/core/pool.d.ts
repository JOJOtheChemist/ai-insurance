import { Agent, AgentOptions } from '../core/agent';
import { Store } from '../infra/store';
import { AgentTemplate } from '../tools/task';
import { AgentStatus, SnapshotId } from '../core/types';
export interface AgentPoolOptions {
    store: Store;
    maxAgents?: number;
}
export declare class AgentPool {
    private agents;
    private store;
    private maxAgents;
    constructor(opts: AgentPoolOptions);
    create(sessionId: string, templateOrOpts: AgentTemplate | AgentOptions, overrides?: Partial<AgentOptions>): Agent;
    get(sessionId: string): Agent | undefined;
    list(opts?: {
        prefix?: string;
    }): string[];
    status(sessionId: string): Promise<AgentStatus | undefined>;
    fork(sessionId: string, snapshotSel?: SnapshotId | {
        at?: string;
    }): Promise<Agent>;
    resume(sessionId: string, opts: Omit<AgentOptions, 'sessionId' | 'store'> & {
        autoRun?: boolean;
        strategy?: 'crash' | 'manual';
    }): Promise<Agent>;
    resumeAll(configFactory: (sessionId: string) => Omit<AgentOptions, 'sessionId' | 'store'>, opts?: {
        autoRun?: boolean;
        strategy?: 'crash' | 'manual';
    }): Promise<Agent[]>;
    delete(sessionId: string): Promise<void>;
    size(): number;
}
